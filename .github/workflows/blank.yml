name: Test

on:
  workflow_dispatch:

jobs:
  create-pr:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          fetch-depth: 1 
          token: ${{ secrets.GITHUB_TOKEN }}
      - name: Create empty commit 
        run: |
          git config user.name 'GitHub Actions'
          git config user.email 'actions@github.com'
          git commit -m "Autogenerated Commit" --allow-empty
      - name: Create Pull Request
        uses: peter-evans/create-pull-request@v6
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          target: master 
          title: "Scheduled Single-Line Change"
          body: "This PR has a single line change automatically added at midnight (UTC)."
          branch: scheduled-change
          labels: automated, single-change

      - name: Add comment to Pull Request
        uses: peter-evans/create-pull-request@v3
        with:
          token: ${{ secrets.GITHUB_TOKEN }}  # Replace with your token
          issue_number: ${{ github.event.pull_request.number }}  # Get PR number
          body: |  # Use "body" for the comment text
                 This is a comment I added after the PR was created using GitHub Actions.
